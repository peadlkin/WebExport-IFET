<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome - Instagram Follower Export Tool</title>
  <link rel="icon" type="image/png" sizes="16x16" href="../icons/icon16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../icons/icon32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="../icons/icon48.png">
  <link rel="icon" type="image/png" sizes="128x128" href="../icons/icon128.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      /* Primary - из tokens.ts расширения */
      --accent: #783bf0;
      --accent-hover: #6630d8;
      --accent-light: #9462f5;
      
      /* Text - из tokens.ts расширения */
      --text-primary: #262626;
      --text-secondary: #8e8e8e;
      --text-muted: #666666;
      
      /* Borders - из tokens.ts расширения */
      --border-color: #dbdbdb;
      --border-light: #efefef;
      
      /* Backgrounds */
      --bg-panel: #ffffff;
      --bg-secondary: #fafafa;
      --bg-hover: #f5f5f5;
      
      /* Border radius - из tokens.ts расширения */
      --radius-sm: 4px;
      --radius-md: 6px;
      --radius-lg: 16px;
      
      /* Shadows - из tokens.ts расширения */
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    html {
      width: 100%;
      min-height: 100vh;
      background: linear-gradient(135deg,
        rgba(120, 59, 240, 0.08) 0%,
        rgba(120, 59, 240, 0.05) 50%,
        rgba(120, 59, 240, 0.03) 100%
      );
    }

    body {
      width: 100%;
      min-height: 100vh;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.2;
      background: transparent;
      color: var(--text-primary);
      padding: 20px;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* Language selector */
    .lang-selector {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: #262626;
      z-index: 100;
    }

    .lang-selector > span {
      color: #262626;
    }

    .lang-dropdown {
      position: relative;
    }

    .lang-btn {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 5px 12px;
      background: transparent;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      color: #262626;
      cursor: pointer;
      transition: all 0.15s;
      font-family: inherit;
    }

    .lang-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .lang-btn svg {
      width: 12px;
      height: 12px;
      transition: transform 0.15s;
    }

    .lang-btn.open svg {
      transform: rotate(180deg);
    }

    .lang-menu {
      position: absolute;
      top: calc(100% + 4px);
      right: 0;
      width: 160px;
      max-height: 320px;
      overflow-y: auto;
      background: #fff;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-8px);
      transition: all 0.15s;
    }

    .lang-menu.open {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .lang-option {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 6px 12px;
      border: none;
      background: transparent;
      font-size: 13px;
      font-family: inherit;
      color: #262626;
      cursor: pointer;
      text-align: left;
      transition: background 0.15s;
    }

    .lang-option:hover {
      background: #fafafa;
    }

    .lang-option.active {
      background: #f2edfe;
      color: var(--accent);
    }

    .lang-check {
      width: 16px;
      height: 16px;
      color: var(--accent);
      display: none;
      flex-shrink: 0;
    }

    .lang-option.active .lang-check {
      display: block;
    }

    /* Container */
    .container {
      max-width: 850px;
      width: 100%;
    }

    /* Panel */
    .panel {
      background: var(--bg-panel);
      border-radius: var(--radius-lg);
      padding: 48px 56px 40px;
      box-shadow: var(--shadow-md);
    }

    /* Title */
    .page-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
      text-align: start;
      line-height: 1.1;
      line-height: 1.2;
    }

    .page-subtitle {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 32px;
      text-align: start;
      line-height: 1.3;
    }

    html[dir="rtl"] .page-title,
    html[dir="rtl"] .page-subtitle {
      text-align: right;
    }

    /* Steps */
    .steps-list {
      list-style: none;
      margin: 0 0 28px;
      padding: 0;
    }

    .step-item {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
      align-items: flex-start;
      padding: 14px;
      background: var(--bg-secondary);
      border-radius: var(--radius-md);
      border: 1px solid var(--border-light);
    }

    .step-item:last-child {
      margin-bottom: 0;
    }

    .step-number {
      flex-shrink: 0;
      width: 32px;
      height: 32px;
      background: var(--accent);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 14px;
    }

    .step-text {
      flex: 1;
      font-size: 14px;
      line-height: 1.5;
      color: var(--text-primary);
      padding-top: 5px;
      font-weight: 500;
    }

    /* Screenshots */
    .screenshot-wrapper {
      margin: 20px 0;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      border: 1px solid var(--border-color);
      cursor: pointer;
    }

    .screenshot-wrapper img {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .screenshot-wrapper:last-child {
      margin-bottom: 0;
    }

    /* Click hint */
    .click-hint {
      position: fixed;
      top: 20px;
      right: 160px;
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--accent);
      color: white;
      padding: 10px 16px;
      border-radius: var(--radius-md);
      font-size: 13px;
      font-weight: 500;
      box-shadow: 0 4px 16px rgba(120, 59, 240, 0.4);
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 99;
      animation: bounceUpDown 1s ease-in-out infinite;
    }

    .click-hint.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .click-hint svg {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }

    @keyframes bounceUpDown {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-8px);
      }
    }

    /* Responsive */
    @media (max-width: 900px) {
      .container {
        max-width: 95%;
      }
    }

    @media (max-width: 600px) {
      body {
        padding: 60px 16px 20px;
      }

      .panel {
        padding: 32px 20px 28px;
      }

      .page-title {
        font-size: 24px;
      }

      .page-subtitle {
        font-size: 15px;
        margin-bottom: 28px;
      }

      .step-item {
        gap: 14px;
        padding: 12px;
      }

      .step-number {
        width: 32px;
        height: 32px;
        font-size: 15px;
      }

      .step-text {
        font-size: 15px;
        padding-top: 4px;
      }

      .screenshot-wrapper {
        margin: 20px 0;
      }

      .lang-selector {
        top: 12px;
        right: 12px;
      }

      .lang-selector span {
        display: none;
      }

      .click-hint {
        right: 80px;
        font-size: 13px;
        padding: 8px 12px;
      }

      .click-hint svg {
        width: 14px;
        height: 14px;
      }
    }
  </style>
</head>
<body>
  <!-- Language selector -->
  <div class="lang-selector">
    <span data-i18n="langLabel">Language</span>
    <div class="lang-dropdown">
      <button class="lang-btn" id="langBtn" type="button">
        <span id="currentLang">EN</span>
        <svg viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M2 4l4 4 4-4"/>
        </svg>
      </button>
      <div class="lang-menu" id="langMenu">
        <button class="lang-option" data-lang="id"><span>Bahasa Indonesia</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="de"><span>Deutsch</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="en"><span>English</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="es"><span>Español</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="fr"><span>Français</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="it"><span>Italiano</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="nl"><span>Nederlands</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="pl"><span>Polski</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="pt"><span>Português</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="tr"><span>Türkçe</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="ru"><span>Русский</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="uk"><span>Українська</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="ar"><span>العربية</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="hi"><span>हिन्दी</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="bn"><span>বাংলা</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="th"><span>ไทย</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="ja"><span>日本語</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="zh"><span>中文</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
        <button class="lang-option" data-lang="ko"><span>한국어</span><svg class="lang-check" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg></button>
      </div>
    </div>
  </div>

  <!-- Click hint -->
  <div class="click-hint" id="clickHint">
    <span data-i18n="clickHintText">Start from here</span>
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M12 19V5M5 12l7-7 7 7"/>
    </svg>
  </div>

  <div class="container">
    <div class="panel">
      <h1 class="page-title" data-i18n="title">Instagram Follower Export tool is installed!</h1>
      <p class="page-subtitle" data-i18n="subtitle">Start exporting in 4 clicks</p>
      
      <ol class="steps-list">
        <li class="step-item">
          <div class="step-number">1</div>
          <div class="step-text" data-i18n="step1">Click the puzzle icon</div>
        </li>
        <li class="step-item">
          <div class="step-number">2</div>
          <div class="step-text" data-i18n="step2">Pin the extension</div>
        </li>
      </ol>

      <div class="screenshot-wrapper">
        <img src="/welcome/img/pin.png" alt="Pin extension" loading="lazy">
      </div>

      <ol class="steps-list" start="3">
        <li class="step-item">
          <div class="step-number">3</div>
          <div class="step-text" data-i18n="step3">Open the Instagram Follower Export Tool</div>
        </li>
        <li class="step-item">
          <div class="step-number">4</div>
          <div class="step-text" data-i18n="step4">Enter an Instagram username and click Start exporting</div>
        </li>
      </ol>

      <div class="screenshot-wrapper">
        <img src="/welcome/img/start.png" alt="Start exporting" loading="lazy">
      </div>
    </div>
  </div>

  <script>
    const SUPPORTED = ['ar', 'bn', 'de', 'en', 'es', 'fr', 'hi', 'id', 'it', 'ja', 'ko', 'nl', 'pl', 'pt', 'ru', 'th', 'tr', 'uk', 'zh'];

    // Translations (19 languages)
    const translations = {
      ar: {
        langLabel: 'اللغة',
        title: 'تم تثبيت Instagram Follower Export Tool!',
        subtitle: 'ابدأ التصدير في 4 نقرات',
        step1: 'انقر على أيقونة القطعة (Puzzle)',
        step2: 'ثبّت الإضافة',
        step3: 'افتح Instagram Follower Export Tool',
        step4: 'أدخل اسم مستخدم Instagram واضغط Start exporting',
        clickHintText: 'ابدأ من هنا'
      },
      bn: {
        langLabel: 'ভাষা',
        title: 'Instagram Follower Export Tool ইনস্টল হয়েছে!',
        subtitle: '৪ ক্লিকে এক্সপোর্ট শুরু করুন',
        step1: 'পাজল আইকনে ক্লিক করুন',
        step2: 'এক্সটেনশনটি পিন করুন',
        step3: 'Instagram Follower Export Tool খুলুন',
        step4: 'Instagram ব্যবহারকারীর নাম লিখে Start exporting ক্লিক করুন',
        clickHintText: 'এখান থেকে শুরু করুন'
      },
      de: {
        langLabel: 'Sprache',
        title: 'Instagram Follower Export Tool ist installiert!',
        subtitle: 'Starte den Export in 4 Klicks',
        step1: 'Klicke auf das Puzzle‑Symbol',
        step2: 'Pinne die Erweiterung an',
        step3: 'Öffne das Instagram Follower Export Tool',
        step4: 'Gib einen Instagram‑Benutzernamen ein und klicke auf Start exporting',
        clickHintText: 'Hier starten'
      },
      en: {
        langLabel: 'Language',
        title: 'Instagram Follower Export Tool is installed!',
        subtitle: 'Start exporting in 4 clicks',
        step1: 'Click the puzzle icon',
        step2: 'Pin the extension',
        step3: 'Open the Instagram Follower Export Tool',
        step4: 'Enter an Instagram username and click Start exporting',
        clickHintText: 'Start from here'
      },
      es: {
        langLabel: 'Idioma',
        title: '¡Instagram Follower Export Tool está instalado!',
        subtitle: 'Empieza a exportar en 4 clics',
        step1: 'Haz clic en el icono de rompecabezas',
        step2: 'Fija la extensión',
        step3: 'Abre Instagram Follower Export Tool',
        step4: 'Introduce el nombre de usuario de Instagram y haz clic en Start exporting',
        clickHintText: 'Empieza aquí'
      },
      fr: {
        langLabel: 'Langue',
        title: 'Instagram Follower Export Tool est installé !',
        subtitle: 'Démarrez l’export en 4 clics',
        step1: 'Cliquez sur l’icône puzzle',
        step2: 'Épinglez l’extension',
        step3: 'Ouvrez Instagram Follower Export Tool',
        step4: 'Saisissez le nom d’utilisateur Instagram puis cliquez sur Start exporting',
        clickHintText: 'Commencez ici'
      },
      it: {
        langLabel: 'Lingua',
        title: 'Instagram Follower Export Tool è stato installato!',
        subtitle: 'Inizia a esportare in 4 clic',
        step1: 'Clicca sull’icona del puzzle',
        step2: 'Fissa l’estensione',
        step3: 'Apri Instagram Follower Export Tool',
        step4: 'Inserisci un nome utente Instagram e clicca su Start exporting',
        clickHintText: 'Inizia da qui'
      },
      hi: {
        langLabel: 'भाषा',
        title: 'Instagram Follower Export Tool इंस्टॉल हो गया है!',
        subtitle: '4 क्लिक में एक्सपोर्ट शुरू करें',
        step1: 'पज़ल आइकन पर क्लिक करें',
        step2: 'एक्सटेंशन को पिन करें',
        step3: 'Instagram Follower Export Tool खोलें',
        step4: 'Instagram उपयोगकर्ता नाम दर्ज करें और Start exporting पर क्लिक करें',
        clickHintText: 'यहाँ से शुरू करें'
      },
      id: {
        langLabel: 'Bahasa',
        title: 'Instagram Follower Export Tool telah terinstal!',
        subtitle: 'Mulai ekspor dalam 4 klik',
        step1: 'Klik ikon puzzle',
        step2: 'Sematkan ekstensi',
        step3: 'Buka Instagram Follower Export Tool',
        step4: 'Masukkan nama pengguna Instagram dan klik Start exporting',
        clickHintText: 'Mulai dari sini'
      },
      it: {
        langLabel: '言語',
        title: 'Instagram Follower Export Tool がインストールされました！',
        subtitle: '4クリックでエクスポート開始',
        step1: 'パズルアイコンをクリック',
        step2: '拡張機能をピン留め',
        step3: 'Instagram Follower Export Tool を開く',
        step4: 'Instagramユーザー名を入力して Start exporting をクリック',
        clickHintText: 'ここから開始'
      },
      ko: {
        langLabel: '언어',
        title: 'Instagram Follower Export Tool이(가) 설치되었습니다!',
        subtitle: '4번 클릭으로 내보내기 시작',
        step1: '퍼즐 아이콘을 클릭하세요',
        step2: '확장 프로그램을 고정하세요',
        step3: 'Instagram Follower Export Tool을 여세요',
        step4: 'Instagram 사용자 이름을 입력하고 Start exporting을 클릭하세요',
        clickHintText: '여기서 시작'
      },
      nl: {
        langLabel: 'Taal',
        title: 'Instagram Follower Export Tool is geïnstalleerd!',
        subtitle: 'Start met exporteren in 4 klikken',
        step1: 'Klik op het puzzel-icoon',
        step2: 'Zet de extensie vast',
        step3: 'Open Instagram Follower Export Tool',
        step4: 'Voer een Instagram-gebruikersnaam in en klik op Start exporting',
        clickHintText: 'Begin hier'
      },
      pl: {
        langLabel: 'Język',
        title: 'Instagram Follower Export Tool został zainstalowany!',
        subtitle: 'Rozpocznij eksport w 4 kliknięciach',
        step1: 'Kliknij ikonę puzzla',
        step2: 'Przypnij rozszerzenie',
        step3: 'Otwórz Instagram Follower Export Tool',
        step4: 'Wpisz nazwę użytkownika Instagram i kliknij Start exporting',
        clickHintText: 'Zacznij tutaj'
      },
      pt: {
        langLabel: 'Idioma',
        title: 'O Instagram Follower Export Tool está instalado!',
        subtitle: 'Comece a exportar em 4 cliques',
        step1: 'Clique no ícone de quebra‑cabeça',
        step2: 'Fixe a extensão',
        step3: 'Abra o Instagram Follower Export Tool',
        step4: 'Digite o nome de usuário do Instagram e clique em Start exporting',
        clickHintText: 'Comece por aqui'
      },
      ru: {
        langLabel: 'Язык',
        title: 'Instagram Follower Export Tool установлен!',
        subtitle: 'Начните экспорт за 4 клика',
        step1: 'Нажмите на иконку пазла',
        step2: 'Закрепите расширение',
        step3: 'Откройте Instagram Follower Export Tool',
        step4: 'Введите имя пользователя Instagram и нажмите Начать экспорт',
        clickHintText: 'Начните отсюда'
      },
      th: {
        langLabel: 'ภาษา',
        title: 'ติดตั้ง Instagram Follower Export Tool แล้ว!',
        subtitle: 'เริ่มส่งออกใน 4 คลิก',
        step1: 'คลิกที่ไอคอนจิ๊กซอว์',
        step2: 'ปักหมุดส่วนขยาย',
        step3: 'เปิด Instagram Follower Export Tool',
        step4: 'ใส่ชื่อผู้ใช้ Instagram แล้วคลิก Start exporting',
        clickHintText: 'เริ่มจากที่นี่'
      },
      tr: {
        langLabel: 'Dil',
        title: 'Instagram Follower Export Tool yüklendi!',
        subtitle: '4 tıklamada dışa aktarmaya başlayın',
        step1: 'Yapboz simgesine tıklayın',
        step2: 'Uzantıyı sabitleyin',
        step3: 'Instagram Follower Export Tool\'u açın',
        step4: 'Bir Instagram kullanıcı adı girin ve Start exporting\'e tıklayın',
        clickHintText: 'Buradan başlayın'
      },
      uk: {
        langLabel: 'Мова',
        title: 'Instagram Follower Export Tool встановлено!',
        subtitle: 'Почніть експорт за 4 кліки',
        step1: 'Натисніть на іконку пазла',
        step2: 'Закріпіть розширення',
        step3: 'Відкрийте Instagram Follower Export Tool',
        step4: 'Введіть ім\'я користувача Instagram і натисніть Start exporting',
        clickHintText: 'Почніть звідси'
      },
      zh: {
        langLabel: '语言',
        title: 'Instagram Follower Export Tool 已安装！',
        subtitle: '4 次点击开始导出',
        step1: '点击拼图图标',
        step2: '固定扩展程序',
        step3: '打开 Instagram Follower Export Tool',
        step4: '输入一个 Instagram 用户名并点击 Start exporting',
        clickHintText: '从这里开始'
      }
    };

    // Language detection
    function detectLang() {
      const params = new URLSearchParams(window.location.search);
      const langParam = (params.get('lang') || '').toLowerCase().split('-')[0];
      if (SUPPORTED.includes(langParam)) return langParam;
      
      const browserLang = (navigator.language || '').toLowerCase().split('-')[0];
      if (SUPPORTED.includes(browserLang)) return browserLang;
      
      return 'en';
    }

    let currentLang = detectLang();

    // Apply translations
    function applyTranslations() {
      const t = translations[currentLang] || translations.en;
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const text = (t && t[key]) || translations.en?.[key] || '';
        if (text) el.textContent = text;
      });

      document.documentElement.lang = currentLang;
      document.documentElement.dir = currentLang === 'ar' ? 'rtl' : 'ltr';
      
      document.getElementById('currentLang').textContent = currentLang.toUpperCase();
      
      document.querySelectorAll('.lang-option').forEach(opt => {
        opt.classList.toggle('active', opt.dataset.lang === currentLang);
      });
    }

    // Language switcher
    const langBtn = document.getElementById('langBtn');
    const langMenu = document.getElementById('langMenu');

    langBtn.addEventListener('click', () => {
      langBtn.classList.toggle('open');
      langMenu.classList.toggle('open');
    });

    document.querySelectorAll('.lang-option').forEach(opt => {
      opt.addEventListener('click', () => {
        currentLang = opt.dataset.lang;
        applyTranslations();
        langBtn.classList.remove('open');
        langMenu.classList.remove('open');
        
        const url = new URL(window.location);
        url.searchParams.set('lang', currentLang);
        history.replaceState(null, '', url);
      });
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.lang-dropdown')) {
        langBtn.classList.remove('open');
        langMenu.classList.remove('open');
      }
    });

    // Click hint functionality
    const clickHint = document.getElementById('clickHint');
    let hintTimeout;

    function showClickHint() {
      // Clear any existing timeout
      if (hintTimeout) {
        clearTimeout(hintTimeout);
      }

      // Show hint
      clickHint.classList.add('show');

      // Hide after 3 seconds
      hintTimeout = setTimeout(() => {
        clickHint.classList.remove('show');
      }, 3000);
    }

    // Add click handlers to all screenshot images
    document.querySelectorAll('.screenshot-wrapper').forEach(wrapper => {
      wrapper.addEventListener('click', showClickHint);
    });

    applyTranslations();
  </script>
</body>
</html>
